#!/usr/bin/env python3
#
# Usage: $0 [-d] [-r] [<input_source> ...]

'Use the VisiData interface to browse the given sources'

import argparse
import visidata


def main():
    parser = argparse.ArgumentParser(description=__doc__)

    parser.add_argument('inputs', nargs='*', help='initial sources')
    parser.add_argument('-d', '--debug', dest='debug', action='store_true', default=False, help='abort on error')
    parser.add_argument('-r', '--readonly', dest='readonly', action='store_true', default=False, help='disable editing')
    args = parser.parse_args()

    visidata.options.debug = args.debug
    visidata.options.readonly = args.readonly

    inputs = args.inputs or ['.']

    for src in inputs:
        visidata.open_source(src)

    visidata.run()


if __name__ == '__main__':
    main()
